TARGETNAME=lfsfilt
TARGETPATH=obj
TARGETTYPE=DRIVER
DRIVERTYPE=FS

NT_UP=0

MSC_WARNING_LEVEL=$(MSC_WARNING_LEVEL) /WX /W3

!include ..\sources.inc

TARGETLIBS=\
$(DDK_LIB_PATH)\ntstrsafe.lib			\
$(NDAS_DRIVER_LIB_PATH)\liblpxtdi.lib

INCLUDES=$(INCLUDES);$(NDAS_DRIVER_INC_PATH);$(NDAS_DRIVER_INC_PATH)\kernel;$(NDAS_INC_PATH)

C_DEFINES=$(C_DEFINES) -DUNICODE -D_WDM_INCLUDED_


NTTARGETFILES=
MISCFILES=$(O)\lfsfilt.inf

!IF $(386)
MISCFILES=$(MISCFILES) $(O)\lfsflt2k.inf
!ENDIF

#
# Use NDAS port as a NDAS device enumerator.
#

C_DEFINES=$(C_DEFINES) -DC_DEFINES=$(C_DEFINES) -D__LFSFILT_SUPPORT_NDASPORT__

AMD64_WARNING_LEVEL=/W3 /Wp64 -wd4296 /WX
# -Wp64 will not work with ntddk.h for w2k,wxp headers
386_WARNING_LEVEL=/W3 /WX

MSC_OPTIMIZATION=
