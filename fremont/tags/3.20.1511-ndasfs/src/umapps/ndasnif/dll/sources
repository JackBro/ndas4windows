TARGETNAME=ndasnif
TARGETTYPE=DYNLINK
TARGETPATH=obj

BUILD_PRODUCES=ndasnif

C_DEFINES=/DUNICODE /D_UNICODE

UMTYPE=console
DLLDEF=$(O)\$(TARGETNAME).def
DLLENTRY=_DllMainCRTStartup
COMPILER_WARNINGS=
PRECOMPILED_HEADER=..\precomp.hpp

!IF $(FREEBUILD)
MSC_OPTIMIZATION=/Ox
LINK_TIME_CODE_GENERATION=1
!ELSE
DEBUG_CRTS=1
!ENDIF

INCLUDES=$(PSDK_INC_PATH);$(NDAS_INC_PATH);$(NDAS_PUBLIC_INC_PATH)

SOURCES=\
	..\ndasnif.cpp \
	..\nifxml.cpp \
	..\ndasnif.rc

TARGETLIBS=\
	$(PSDK_LIB_PATH)\kernel32.lib \
	$(PSDK_LIB_PATH)\user32.lib \
	$(PSDK_LIB_PATH)\advapi32.lib \
	$(PSDK_LIB_PATH)\oleaut32.lib \
	$(PSDK_LIB_PATH)\ole32.lib

# publish lib files to the project root
PASS1_PUBLISH={$(O)\$(TARGETNAME).lib=$(NDAS_PUBLIC_LIB_PATH)\$(TARGETNAME).lib}

!INCLUDE $(WTL_SOURCES_INC)
